<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Exemples de Llistes</title>
  <link rel="stylesheet" href="../style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f9f9f9;
      margin: 0;
      padding: 0;
    }
    main {
      padding: 2rem;
      max-width: 700px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }
    .example {
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 1.5rem;
      margin-bottom: 2rem;
    }
    .example h2 {
      margin-top: 0;
    }
    .code-box {
      background: #f4f4f4;
      border: 1px solid #ddd;
      border-radius: 4px;
      padding: 1rem;
      margin-top: 1rem;
      font-family: monospace;
      font-size: 0.95rem;
      overflow-x: auto;
    }
    button {
      margin-top: 1rem;
      padding: 0.5rem 1.2rem;
      background: #1976d2;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    button:hover {
      background: #1565c0;
    }
    #btn-bad-list:focus-visible,
    #btn-good-list:focus-visible {
      outline: 3px solid #ff9800;
      outline-offset: 2px;
    }

    /* Cards llargs per als elements de la llista */
    ul.bad-list, ul#good-list {
      list-style: none;
      padding: 0;
      margin: 0 0 1rem 0;
    }
    ul.bad-list li,
    ul#good-list li {
      background: #e3eafc;
      border: 1px solid #b6c6e3;
      border-radius: 6px;
      margin-bottom: 0.7rem;
      padding: 1rem 1.5rem;
      display: flex;
      align-items: center;
      cursor: pointer;
      transition: background 0.2s, box-shadow 0.2s;
      box-shadow: 0 1px 4px #b6c6e322;
      font-size: 1.1rem;
    }
    ul.bad-list li:hover,
    ul#good-list li:hover {
      background: #d0e0fa;
      box-shadow: 0 2px 8px #b6c6e355;
    }
    ul.bad-list li:active,
    ul#good-list li:active {
      background: #b6c6e3;
    }
  </style>
</head>
<body>
  <header>
    <div class="header-left">
      <a class="btn-back" href="../inici.html" aria-label="Torna enrere">
        <i class="fas fa-arrow-left"></i>
      </a>
      <h1>Exemples de Llistes</h1>
    </div>
    <nav>
      <ul class="nav-bar">
        <li><a href="../components/cards.html">Cards</a></li>
        <li><a href="../components/buttons.html">Botons</a></li>
        <li><a href="../components/events.html">Events</a></li>
        <li><a href="../components/llistes.html">Llistes</a></li>
        <li><a href="../components/slider.html">Slider</a></li>
        <li><a href="../components/carrousel.html">Carousel</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <!-- Exemple 1: Dolent -->
    <section class="card incorrecte example">
      <h2>Exemple Dolent: Afegir una nova llista sencera</h2>
      <ul class="bad-list" id="bad-list">
        <li tabindex="0">Element 1 (Llista 1)</li>
        <li tabindex="0">Element 2 (Llista 1)</li>
        <li tabindex="0">Element 3 (Llista 1)</li>
        <li tabindex="0">Element 4 (Llista 1)</li>
        <li tabindex="0">Element 5 (Llista 1)</li>
      </ul>
      <button id="btn-bad-list" onclick="addBadList()" onkeydown="if(event.key===' '||event.key==='Enter'){event.preventDefault();addBadList();}">Afegeix una nova llista</button>
      <div><pre><code>// Afegir una nova llista sencera (incorrecte)
function addBadList() {
  const newUl = document.createElement('ul');
  for (let i = 1; i &lt;= 5; i++) {
    const li = document.createElement('li');
    li.textContent = 'Element ' + i;
    newUl.appendChild(li);
  }
  document.querySelector('.example #bad-list')
    .parentNode.insertBefore(
    newUl,
    document.querySelector('.example #bad-list').nextSibling
  );
}</code></pre></div>
    </section>

    <!-- Exemple 2: Correcte -->
    <section class="card correcte">
      <h2>Exemple Correcte: Afegir elements a la mateixa llista</h2>
      <ul id="good-list">
        <li tabindex="0">Element 1</li>
        <li tabindex="0">Element 2</li>
        <li tabindex="0">Element 3</li>
        <li tabindex="0">Element 4</li>
        <li tabindex="0">Element 5</li>
      </ul>
      <button id="btn-good-list" onclick="addGoodListItems()" onkeydown="if(event.key===' '||event.key==='Enter'){event.preventDefault();addGoodListItems();}">Afegeix 5 elements més</button>
      <div><pre><code>// Afegir elements a la mateixa llista (correcte)
function addGoodListItems() {
  const ul = document.getElementById('good-list');
  const start = ul.children.length + 1;
  for (let i = start; i &lt; start + 5; i++) {
    const li = document.createElement('li');
    li.textContent = 'Element ' + i;
    ul.appendChild(li);
  }
}</code></pre></div>
    </section>
  </main>

  <script>
    // Comptador per a la numeració de llistes dolentes
    let badListCounter = 2;

    // Afegir una nova llista sencera (incorrecte)
    function addBadList() {
      const newUl = document.createElement('ul');
      newUl.className = 'bad-list';
      for (let i = 1; i <= 5; i++) {
        const li = document.createElement('li');
        li.textContent = 'Element ' + i + ' (Llista ' + badListCounter + ')';
        li.tabIndex = 0;
        newUl.appendChild(li);
      }
      // Inserta la nova llista després de l'última llista dolenta existent
      let lastBadList = document.getElementById('bad-list');
      while (lastBadList.nextElementSibling && lastBadList.nextElementSibling.classList.contains('bad-list')) {
        lastBadList = lastBadList.nextElementSibling;
      }
      lastBadList.parentNode.insertBefore(newUl, lastBadList.nextSibling);
      badListCounter++;
      // Focus es queda al botó
      document.getElementById('btn-bad-list').focus();
    }

    // Afegir elements a la mateixa llista (correcte)
    function addGoodListItems() {
      const ul = document.getElementById('good-list');
      const start = ul.children.length + 1;
      let firstNewLi = null;
      for (let i = start; i < start + 5; i++) {
        const li = document.createElement('li');
        li.textContent = 'Element ' + i;
        li.tabIndex = 0;
        ul.appendChild(li);
        if (!firstNewLi) firstNewLi = li;
      }
      // Focus al primer nou element afegit
      if (firstNewLi) firstNewLi.focus();
    }
  </script>
</body>
</html>